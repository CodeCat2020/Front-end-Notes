

# 语法

## **1. 区分大小写**

ECMAScript 中的一切（变量、函数名和操作符）都区分大小写。这也就意味着，变量名 test 和变量名 Test 分别表示两个不同的变量。

```js
var test = "hello";	// 首字母小写
var Test = "HELLO";	// 首字母大写
console.log(test);	// hello
console.log(Test);	// HELLO
```



## **2.  标识符**

标识符指变量、函数、属性的名字，或者函数的参数。标识符可以是按照下列格式规则组合起来的一或多个字符：

- 第一个字符必须是一个字母、下划线（_）或一个美元符号（$）。开头不能是数字！
- 其他字符可以是字母、下划线、美元符号或数字。

注意：

- 字母可以包含扩展的 ASCII 或 Unicode 字母字符（如À和Æ），但不推荐。

- 采用驼峰大小写格式，第一个字母小写，剩下的每个单词的首字母大写。

- 标识符不能是关键字、保留字、true、false 、**with** 和 null 等。



## **3. 注释**

- 单行注释：双斜杠

- 多行注释： `/*` 和 `*/` 

  ```js
  // 我是一条注释
  /*
    我也是一条注释
  */
  ```



## **4. 严格模式**

ECMAScript 5 引入了严格模式。在严格模式下， JavaScript 代码运行时会自动实行更严格解析和错误处理的方法。ECMAScript  3 中的一些不确定的行为将得到处理，而且对某些不安全的操作也会抛出错误。

要在整个脚本中启用严格模式，可以在顶部添加以下代码。

这行代码是一个编译指示（pragma），用于告诉支持的 JavaScript 引擎切换到严格模式。这是为不破坏 ES 3 语法而特意选定的语法。

```js
"use strict";
```

也可以指定函数在严格模式下执行。需要在函数内部的上方包含这条编译指示：

```js
function doSomething(){
    "use strict";
    //函数体
}
```

严格模式下，JavaScript 的执行结果会有很大不同。支持严格模式的浏览器包括 IE10+、Firefox 4+、Safari 5.1+、Opera 12+ 和 Chrome。



严格模式的限制

- 变量必须声明后再使用。
- 函数的参数不能有同名参数，否则报错。
- 不能使用 with 语句。
- 不能对只读属性赋值， 否则报错。
- 不能使用八进制数，否则报错。
- 不能使用特殊字符， 如 \012 ，否则报错。
- 不能使用 delete 删除变量、方法等，只能用 delete 删除对象的属性。
- eval 不会在它的外层作用域引入变量。
- eval 和arguments 不能被重新赋值。
- arguments 不会自动反映函数参数的变化。
- 不能使用 arguments.callee。
- 不能使用 arguments.caller。
- 禁止 this 指向全局对象。
- 不能使用 fn.caller 和 fn.arguments 获取函数调用的栈。
- 增加了保留字（如 protected 、static 和 interface ） 。





设立“严格模式”的目的，主要有以下几个：

- 消除 JavaScript 语法的一些不合理、不严谨之处，减少一些怪异行为。
- 消除代码运行的一些不安全之处，保证代码运行的安全。
- 提高编译器效率，增加运行速度。
- 为未来新版本的 JavaScript 做好铺垫。





在 JavaScript 代码运行时自动实行更严格的解析和错误处理。

严格模式的主要优点如下。

- 使调试更加容易。那些被忽略的代码错误， 会产生错误或抛出异常，使代码更安全可靠。
- 防止意外的全局变量。在严格模式下，将值分配给一个未声明的变量不会自动创建全局变量，而是会抛出错误。
- 消除 this 的无效引用。如果没有严格模式，在全局方法执行时， this 会执行全局对象（ window ），通过 this 添加的数据变量，会自动添加到全局变量中，这可能会产生许多
  Bug 。在严格模式下，在全局方法执行时，引用 this 赋值会抛出错误。
- 不允许重复的属性名称或参数值。可以捕捉代码中明确的 Bug ，避免浪费大量的跟踪时间。
- 使 eval() 更安全。在严格模式下，变量和声明在 eval() 语句内部的函数不会在包含的范围内创建。
- 在 delete 使用无效时抛出错误。当试图删除一个不可配置的属性时，非严格代码将出错，而严格模式代码将在这样的情况下抛出异常。



## **5. 语句**

JavaScript 语句由以下构成：值、运算符、表达式、关键词和注释。

语句以一个分号（`;`）结尾；如果省略分号，则由解析器确定语句的结尾。分号可以避免很多错误，建议不要省略。

```js
var sum = a + b 	// 即使没有分号也是有效的语句——不推荐
var diff = a - b; 	// 有效的语句——推荐
a = 5; b = 6; c = a + b;		// 如果有分号分隔，允许在同一行写多条语句
```

JavaScript 会忽略多个空格。在运算符旁边（ = + - * / ）添加空格是个好习惯：

```js
var person = "Bill";
var person="Bill"; 			// 和上一行是相等的
```

代码块以左花括号开头，以右花括号结尾。代码块的作用是定义一同执行的语句。

```js
if (test){
    test = false;
    alert(test);
}
```

最佳实践：始终在控制语句中使用代码块，即使代码块中只有一条语句。

```js
if (test)
	alert(test); 	// 有效但容易出错，不要使用
if (test){ 			// 推荐使用
	alert(test);
}
```

为了达到最佳的可读性，常常把代码行控制在 80 个字符以内。如果语句太长，折行的最佳位置是某个运算符：

```js
document.getElementById("demo").innerHTML =
 "Hello Kitty.";
```





在字符串语句中可以通过在第一行末尾使用反斜杠“ ＼ ”来完成，例如，

```js
document.write("This is \a program")
```

如果不是在字符串语句中更改为新行，那么 JavaScript 会忽略行中的断点。下面的代码是可行的，但并不建议这样做，因为阻碍了调试。

```js
var x=l, y=2 ,
z=
x+y ;
```



