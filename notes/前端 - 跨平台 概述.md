

# 简介

## 开发模式

目前市场上主流的 APP 分为三种：原生 APP、Web APP（即 HTML5）和混合 APP （原生 + H5）三种，相对应的定制开发就是原生开发、H5 开发和混合开发。

<div align="center"> <img src="pics/前端 - 开发模式.png"/> </div><br>



### 原生开发

原生开发（Native App 开发），是在 Android、IOS 等移动平台上利用官方提供的开发语言、开发类库、开发工具进行 App 开发。比如 Android 利用 Java、Eclipse、Android studio；IOS 利用 Objective-C 和 Xcode。

通俗点来讲，原生开发就像盖房子一样，先打地基然后浇地梁、房屋结构、一砖一瓦、钢筋水泥、电路走向等，都是经过精心的设计。原生 APP 也一样：通过代码从每个页面、每个功能、每个效果、每个逻辑、每个步骤全部用代码写出来，一层层，一段段全用代码写出来。

优点：

- 1、可访问手机所有功能（如 GPS、摄像头等）、可实现功能最齐全；
- 2、运行速度快、性能高，绝佳的用户体验；
- 3、支持大量图形和动画，不卡顿，反应快；
- 4、兼容性高，每个代码都经过程序员精心设计，一般不会出现闪退的情况，还能防止病毒和漏洞的出现；
- 5、比较快捷地使用设备端提供的接口，处理速度上有优势。

缺点：

- 1、开发时间长，快则 3 个月左右完成，慢则五个月左右；
- 2、制作费用高昂，成本较高；
- 3、可移植性比较差，一款原生的 App，Android 和 IOS 都要各自开发，同样的逻辑、界面要写两套；
- 4、内容限制（App Store 限制）；
- 5、必须等下载完毕用户才可以打开，获得新版本时需重新下载应用更新。



### H5 开发

HTML5 应用开发，是利用 Web 技术进行的 App 开发，可以在手机端浏览器里面打开的网站就称之为 webapp。Web 技术本身需要浏览器的支持才能进行展示和用户交互，因此主要用到的技术是 HTML、CSS、Javascript 以及 jQuery、Vue、React 等 JS 框架。

优点：

- 1、支持设备范围广，可以跨平台，编写的代码可以同时在 Android、IOS、Windows 上运行；
- 2、开发成本低、周期短；
- 3、无内容限制；
- 4、适合展示有大段文字（如新闻、攻略等），且格式比较丰富（如加粗，字体多样）的页面；
- 5、用户可以直接使用最新版本（自动更新，不需用户手动更新）。

缺点：

- 1、由于 Web 技术本身的限制，H5 移动应用不能直接访问设备硬件和离线存储，所以在体验和性能上有很大的局限性；
- 2、对联网要求高，离线不能做任何操作；
- 3、功能有限；
- 4、APP 反应速度慢，页面切换流畅性较差；
- 5、图片和动画支持性不高；
- 6、用户体验感较差；
- 7、无法调用手机硬件（摄像头、麦克风等）。





### 混合开发



混合开发（Hybrid App 开发），是指在开发一款 App 产品的时候，为了提高效率、节省成本而利用原生与 H5 的开发技术的混合应用。通俗点来说，这就是网页的模式，通常由“HTML5 云网站 + APP 应用客户端”两部份构成。

混合开发是一种取长补短的开发模式，原生代码部分利用 WebView 插件或者其它框架为 H5 提供容器，程序主要的业务实现、界面展示都是利用与 H5 相关的 Web 技术进行实现的。比如京东、淘宝、今日头条等 APP 都是利用混合开发模式而成的。

混合 App 开发的优势是什么？

- 1、开发效率高，节约时间。同一套代码 Android 和 IOS 基本上都可使用；
- 2、更新和部署比较方便，每次升级版本只需要在服务器端升级即可，不再需要上传到 App Store 进行审核；
- 3、代码维护方便、版本更新快，节省产品成本；
- 4、比 web 版实现功能多；
- 5、可离线运行。

混合 App 开发的劣势是什么？

- 1、功能/界面无法自定：所有内容都是固定的，不能换界面或增加功能；
- 2、加载缓慢/网络要求高：混合APP数据需要全部从服务器调取，每个页面都需要重新下载，因此打开速度慢，网络占用高，缓冲时间长，容易让用户反感；
- 3、安全性比较低：代码都是以前的老代码，不能很好地兼容最新手机系统，且安全性较低，网络发展这么快，病毒这么多，如果不实时更新，定期检查，容易产生漏洞，造成直接经济损失；
- 4、既懂原生开发又懂 H5 开发的高端人才难找。





Hybrid 开发就是在 Native 客户端中嵌入了 HTML App 的功能，这方面微信应该是做得最好的。由于 HTML5 的效率以及耗电问题，可能用户对 Web App 的体验不满意，Hybrid App 也只适用于某些场景。把一些基础的功能（比如调用手机的摄像头、获取地理位置、登录注册等）做成 Native 的功能，让 HTML5 来调用更好， 这样的体验也更好。

如果把一个登录和注册功能也做成 HTML5 版本的 App ，在弱网络环境下，这个体验应该会非常差，或许用户等半天还没加载出页面。

一些活动页面（比如“秒杀”、团购等）适合采用 HTML 5 开发，因为这些页面可能设计得非常炫而且复杂。HTML5 开发非常简单，并且这些页面时效性短，更新更快，因为一个活动说不定就一周时间，下周就下线了。而如果用 Native 开发，成本是很高的。





目前混合开发有两种开发模式：

- 一、原生主导的开发模式：需要安卓和 IOS 原生开发人员，整个 App 既有原生开发的页面，也有 H5 页面，在需要 H5 页面时由原生开发工程师实现内嵌。

- 二、H5 主导的开发模式：只需要 H5 开发工程师，借助一些封装好的工具实现应用的打包与调用原生设备的功能，如 HBuilder 的云端打包功能。




## 跨平台技术

针对原生开发面临问题，已经有很多跨平台框架。这里的“跨平台”若无特殊说明，即特指 Android 和 iOS 两个平台。根据其原理，主要分为三类： 

- H5 + 原生（混合开发）
  - Cordova / PhoneGap [[GitHub\]](https://github.com/apache/cordova-android/)、Ionic [[GitHub\]](https://github.com/driftyco/ionic/)、微信小程序 
- JavaScript 开发 + 原生渲染
  - 代表：React Native [[GitHub\]](https://github.com/facebook/react-native/)、Weex、快应用、NativeScript
  - 主要优点：采用 Web 开发技术栈，社区庞大、上手快、开发成本相对较低。 原生渲染，性能相比 H5 提高很多。 动态化较好，支持热更新。
- 自绘 UI + 原生
  - 代表：QT for mobile、Flutter 
  - 思路：通过在不同平台实现一个统一接口的渲染引擎来绘制 UI，不依赖系统原生控件，可以做到不同平台 UI 的一致性。注意，自绘引擎解决的是 UI 的跨平台问题，如果涉及其它系统能力调用，依然要涉及原生开发。
  - 优点
    - 性能高：直接调用系统 API 绘制 UI，性能和原生控件接近。 
    - 灵活：不依赖原生控件，不受原生布局系统的限制。
    - 组件库易维护：UI 渲染不依赖原生控件，不需要根据不同平台的控件单独维护一套组件库。
    - UI 外观保真度和一致性高：组件库有同一套代码、同一个渲染引擎。
  - 不足
    - 动态性不足。为了保证 UI 绘制性能，系统一般都会采用 AOT 模式编译发布包。应用发布后，不能像 Hybrid 和 RN 使用 JavaScript（JIT） 作为开发语言的框架那样动态下发代码。
- [MUI](http://dev.dcloud.net.cn/mui/) [[GitHub\]](https://github.com/dcloudio/mui/) 

- uni-app





# **Web APP**

## **PWA**

渐进式增强 Web 应用（Progressive Web App，PWA），不是一门技术，而是一个概念，使用多种技术来增强 Web App 的功能：

- 用 Service Worker + HTTPS + Cache Api + indexedDB 等一系列 Web 技术实现离线加载和缓存
- 实现了推送和通知
- 可以直接添加到手机的桌面上
- 使用 Service Worker 可以进行后台同步

总结起来，PWA 的主要的能力就是离线、推送、桌面访问，可以说 PWA 赋予 Web App 原生的体验，但是 PWA 一直不温不火的原因主要有以下几点：

- 游览器对 PWA 技术支持还不够全面， 不是每一款游览器都能 100% 的支持 PWA
- 国内一些手机厂商对 Android 系统各种魔改，对 PWA 的兼容性不好，甚至不支持 PWA
- 平台的竞争，iOS 对 PWA 的支持力度远远低于 Android，所以 PWA 在 iOS 上的体验打了折扣。PWA 面对类似的微信小程序和快应用的竞争中，并没有优势。



了解 PWA 中使用的不同 Web API

- Storage
- Web Sockets
- Service Workers
- Location
- Notifications
- Device Orientation
- Payments
- Credentials

Calculating, Measuring and improving performance

- PRPL Pattern：性能优化模型
- RAIL Model：以用户为核心的性能模型
- Performance Metrics
- Lighthouse：前端性能优化测试工具
- DevTools：开发者工具、调试工具





# 混合开发

目前混合开发框架的典型代表有：Cordova、Ionic 和微信小程序，值得一提的是微信小程序目前是在 webview 中渲染的，并非原生渲染，但将来有可能会采用原生渲染。





WebView 本来就支持 JavaScript 和 Java 相互调用，只需要开启 WebView 的 JavaScript 脚本执行功能，并通过以下代码向 HTML5 页面中注入一个 Java 对象，然后就可以在 HTML5 页面中调用 Native 的功能了。

```
mWebView.addJavascriptInterface (new JsBridge (),"bxbxbai") 
```









## Cordova









## **Ionic**

## **VasSonic**

## **微信小程序**



在微信开发者文档中可以看到，微信 JS-SDK 封装了微信的各种功能， 比如分享到朋友圈、图像接口、音频接口、支付接口、地理位置接口等。

开发者只需要调用微信 JS-SDK 中的函数，然后统一由 JS-SDK 调用微信中的功能。这样的好处就是，开发者写了一个 HTML5 的应用或网页，在 Android 和 iOS 版本的微信中都可以正常运行。





# **语言编译转换**



# **原生渲染**

原生渲染代表有 React Native、Weex、快应用。



## React Native

React Native 是 Facebook 早先开源的 Web UI 框架 React 在原生移动应用平台的衍生产物，底层对 Android 和 iOS 平台的原生代码进行封装，通过使用 JavaScript 就可以编写出原生代码。





ReactNative 和 React 共用一些抽象层，但具体有很多差异，且目标平台不同。

React 用于开发 Web 页面，为了使前端的视图层组件化，并能更好地得以复用，它能够使用简单的 HTML 标签创建许多自定义组件标签。在纽件内部绑定事件， 只需要操作数据就会改变相应的 DOM 渲染结果。

ReactNative 目前只能开发 iOS /Android App，它是程序员能够使用前端的技术去开发运行在不同平台（如 iOS 、Android 等）上的项目框架。ReactNative 在 JavaScript 中用 React 抽象 Android 、iOS 原生的 UI 组件，代替DOM 元素来渲染，比如用 `<View>` 取代 `<div>`，用 `<Image>` 替代 `<img>` 等。









## **Weex**

Weex 是阿里开源的一款跨平台移动开发工具，它能够完美兼顾性能与动态性，让移动开发者通过简捷的前端语法写出原生级别的性能体验，并支持 iOS、Android、YunOS 及 Web 等多端部署。目前 Vue.js 和 Rax 这两个前端框架被广泛应用于 Weex 页面开发，因此 Weex 支持 Vue 语法和 Rax 语法，而 React Native 只支持 JSX 语法。



## **快应用**

2018 年 3 月份，由小米，OPPO，VIVO，华为等 10 家国内主流厂商成立了快应用联盟。快应用介于移动网页和原生应用之间，第三方应用以移动网页的形式进行开发，最终得到原生渲染的效果体验。快应用框架深度集成进各手机厂商的手机操作系统中，可以在操作系统层面形成用户需求与应用服务的无缝连接，很多只用在原生应用中才能使用的功能，在快应用中可以很方便的实现，享受原生应用体验，同时不用担心分发留存等问题，资源消耗也比较少。对于每台手机设备，应用可以从多个系统入口，引用用户体验产品。
 与 React Native 和 Weex 相比主要有两点不同：

- 快应用自身不支持 Vue 或 React 语法，它采用的是 JavaScript 开发。
- React Native 和 Weex 的渲染引擎是集成到框架中的，每一个 APP 都需要打包一份，安装包体积较大，快应用渲染引擎是集成到 ROM 中的，应用中无需打包，安装包体积小。

和微信小程序很像，快应用本质上也是要建立次级生态。



## NativeScript



# 自绘 UI





## **Qt**

## **Flutter**

Flutter 是谷歌的移动 UI 框架，可以快速在 Android 和 iOS 上构建高质量的原生用户界面， 它的前身是谷歌试验项目 Sky。
Futter 提出了一切皆 Widget 的概念，除了基本的文本、图片、卡片、输入框，布局方式和动画等也都是由 Widget 组成的。通过使用不同类型的 Widget，就可以实现复杂度的界面。





# uni-app

`uni-app` 是一个使用 Vue.js 开发所有前端应用的框架，开发者编写一套代码，可发布到iOS，Android，H5，以及各种小程序 ，快应用等多个平台。

> [阿里小程序工具官方内置 uni-app](https://docs.alipay.com/mini/ide/0.70-stable)
>
> [腾讯课堂官方 uni-app 培训课程](https://ask.dcloud.net.cn/article/35640)



为什么要选择 uni-app？

- 跨平台更多：真正做到“一套代码、多端发行”。在跨端的同时，通过条件编译 + 平台特有 API 调用，可以优雅的为某平台写个性化代码，调用专有能力而不影响其他平台。

  支持原生代码混写和原生sdk集成。

- 运行体验更好：组件、api 与微信小程序一致，App 端兼容 weex 原生渲染。

- 开放生态，组件丰富：插件市场。支持 NPM，支持小程序组件和 SDK，兼容 mpvue 组件和项目，兼容 weex 组件。微信生态的各种 sdk 可直接用于跨平台 App。

- 学习成本低：通用技术栈，基于通用的前端技术栈，采用 vue 语法 + 微信小程序api，无额外学习成本。

- 开发成本低









# 参考资料

- [张显：原生开发、H5开发和混合开发的区别](https://segmentfault.com/a/1190000020146197)
- [Android_冯星：混合开发 框架对比](https://www.jianshu.com/p/8e99b4aed464)

- [混合开发框架最全对比，为什么我更推荐Flutter？](https://juejin.im/post/5dae74f7f265da5bb414d4c2#heading-3)